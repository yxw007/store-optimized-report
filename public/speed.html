<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>H5 Performance Optimization Results</title>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.3.0/dist/echarts.min.js"></script>
    <style>
        .tips {
            color: #00FF00;
        }

        #main {
            margin-top: 30px;
        }

        h2 {
            margin: 30px auto 10px;
        }

        .result div {
            font-size: 20px;
            font-weight: bold;
        }

        .result div span:nth-child(1) {
            color: #ff0000;
            font-size: 24px;
            font-weight: bold;
        }

        .result div span:nth-child(2) {
            color: #00ff;
            font-size: 24px;
            font-weight: bold;
            margin: auto 20px;
        }

        .result div span:nth-child(3) {
            color: #ff0000;
            font-size: 24px;
            font-weight: bold;
            margin-right: 10px;
        }

        .result div span:nth-last-child(1) {
            color: #ff0000;
            font-size: 24px;
            font-weight: bold;
        }
    </style>
</head>

<body>
    <a href="./index.html">Click: View the resource size comparison after packaging</a>
    <br>
    <span class="tips">Statistical method: test each mode 10 times, then take the average</span>
    <br>
    <div id="main"
         style="width: 100%;height:800px;"></div>
    <div class="result">
        <h1>Test Results</h1>

        <h2>Chrome-The first page, Dom Content is loaded time</h2>
        <div> <span>Vue2.x + Webpack4.x</span> <span>VS</span> <span>Vue2.x + Webpack3.x</span> [speed boost]：<span>↑145%</span></div>
        <div> <span>Vue2.x + Webpack5.x</span> <span>VS</span> <span>Vue2.x + Webpack4.x</span> [speed boost]：<span>↑56%</span> </div>
        <div> <span>Vue2.x + Webpack5.x</span> <span>VS</span> <span>Vue2.x + Webpack3.x</span> [speed boost]: <span>↑300%</span></div>

        <h2>Chrome-The first page, page is loaded time</h2>
        <div> <span>Vue2.x + Webpack4.x</span> <span>VS</span> <span>Vue2.x + Webpack3.x</span> [speed boost]: <span>↑155%</span></div>
        <div> <span>Vue2.x + Webpack5.x</span> <span>VS</span> <span>Vue2.x + Webpack4.x</span> [speed boost]：<span>↑20%</span></div>
        <div> <span>Vue2.x + Webpack5.x</span> <span>VS</span> <span>Vue2.x + Webpack3.x</span> [speed boost]: <span>↑208%</span></div>

        <h2>APP(IE Kernel)-The first page, Dom Content is loaded time</h2>
        <div> <span>Vue2.x + Webpack4.x</span> <span>VS</span> <span>Vue2.x + Webpack3.x</span> [speed boost]: <span>↑159%</span></div>
        <div> <span>Vue2.x + Webpack5.x</span> <span>VS</span> <span>Vue2.x + Webpack4.x</span> [speed boost]：<span>↑138%</span></div>
        <div> <span>Vue2.x + Webpack5.x</span> <span>VS</span> <span>Vue2.x + Webpack3.x</span> [speed boost]: <span>↑517%</span></div>

        <h2>APP(IE Kernel)-The first page, page is loaded time</h2>
        <div> <span>Vue2.x + Webpack4.x</span> <span>VS</span> <span>Vue2.x + Webpack3.x</span> [speed boost]: <span>↑126%</span></div>
        <div> <span>Vue2.x + Webpack5.x</span> <span>VS</span> <span>Vue2.x + Webpack4.x</span> [speed boost]：<span>↑202%</span></div>
        <div> <span>Vue2.x + Webpack5.x</span> <span>VS</span> <span>Vue2.x + Webpack3.x</span> [speed boost]: <span>↑584%</span></div>
    </div>
    <script type="text/javascript">
        var chartDom = document.getElementById('main');
        var myChart = echarts.init(chartDom);
        var option;

        option = {
            title: {
                text: 'Clear cache each time - Cross Test - Load Speed Comparison (unit: seconds)'
            },
            tooltip: {
                trigger: 'axis',
                axisPointer: {
                    type: 'shadow'
                }
            },
            color: ["#ff0000", "#4cabce", "#FFC914"],
            legend: {},
            grid: {
                left: '3%',
                right: '4%',
                bottom: '3%',
                containLabel: true
            },
            xAxis: {
                type: 'value',
                boundaryGap: [0, 0.01],
                interval: 10,
            },
            yAxis: {
                type: 'category',
                data: ['chrome-The first page, Dom Content is loaded', 'chrome-The first page, page is loaded',
                    'APP(IE kernel)-The first page, Dom Content is loaded',
                    'APP(IE kernel)-The first page, page is loaded'
                ]
            },
            series: [{
                    name: 'Vue2.x + Webpack3.x',
                    type: 'bar',
                    data: [4.119, 7.28, 8.348, 9.451],
                    tooltip: {
                        valueFormatter: function (value) {
                            return value + 's';
                        }
                    },
                },
                {
                    name: 'Vue2.x + Webpack4.x',
                    type: 'bar',
                    data: [1.608, 2.85, 3.225, 4.173, 3.225, 4.173],
                    tooltip: {
                        valueFormatter: function (value) {
                            return value + 's';
                        }
                    },
                },
                {
                    name: 'Vue2.x + Webpack5.x',
                    type: 'bar',
                    data: [1.02988, 2.363, 1.356, 1.381],
                    tooltip: {
                        valueFormatter: function (value) {
                            return value + 's';
                        }
                    },
                }
            ]
        };

        option && myChart.setOption(option);
    </script>
    <!-- <script>
        var domLoadConsuming = 0;
        function onDomLoaded() {
            console.log('DOM fully loaded and parsed');

            domLoadConsuming = (performance.now() / 1000).toFixed(2);
            console.log("dom-load seconds time: " + domLoadConsuming + "s");
        }
        window.addEventListener('DOMContentLoaded', onDomLoaded);

        function onPageLoaded() {
            console.log('page is fully loaded');

            const pageLoadConsuming = (performance.now() / 1000).toFixed(2);
            alert("dom加载时间: " + domLoadConsuming + "s\n" + "页面加载时间: " + pageLoadConsuming + "s");
        }
        window.addEventListener('load', onPageLoaded);
    </script> -->
</body>

</html>